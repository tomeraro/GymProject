<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANvlVDXs4jqFOsihZnjKjprKnkiuYaKoE&signed_in=true&callback=initMap" async defer></script>

<center>
    <div ng-repeat="gym in gyms track by $index">
        <div id="gymContainer">
            <div id="googleMap"> <ng-map zoom="11" center="[40.74, -74.18]">
                <marker position="[40.74, -74.18]" />
                <shape name="circle" radius="400" center="[40.74,-74.18]" radius="4000" />
                <control name="overviewMap" opened="true" />
            </ng-map>`
            </div>

            <div class="form-group gymDes">Gym Name   
                <input ng-model="gym.name" type="text" class="form-control" readonly>
            </div>

            <div class="form-group gymDes">Price   
                <input ng-model="gym.price" type="text" class="form-control" readonly>
            </div>

            <div class="form-group gymDes">
                <u>More Info:</u> {{ gym.city + ", " + gym.street  + " " + gym.houseNumber + " street" }}
                <br>
                <u>Website:</u> <a ng-href="{{gym.website}}">Click here</a> <br>
                Lessons:   <br>
                Products:   <br>
            </div>
            <div id="gymLogo"></div>
        </div>
    </div>
</center>

<script>
    console.log("mapFunc");
    function initMap(){
        console.log("mapFunc222");
        var map = new google.maps.Map(document.getElementById("googleMap"), {
            zoom: 8,
            center: {lat: -34.397, lng: 150.644}
        });
        var geocoder = new google.maps.Geocoder();
        geocodeAddress(geocoder, map);
    }

    function geocodeAddress(geocoder, resultsMap) {
        /*           var address = document.getElementById('address').value; */
        var address = 'rishon lezion';

        geocoder.geocode({'address': address}, function(results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
                resultsMap.setCenter(results[0].geometry.location);
                var marker = new google.maps.Marker({
                    map: resultsMap,
                    position: results[0].geometry.location
                });
            } else {
                alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    }
</script>
</center>